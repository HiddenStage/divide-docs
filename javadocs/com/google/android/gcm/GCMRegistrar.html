<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Sat Sep 20 15:44:19 CDT 2014 -->
<title>GCMRegistrar</title>
<meta name="date" content="2014-09-20">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="GCMRegistrar";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/android/gcm/GCMConstants.html" title="class in com.google.android.gcm"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/android/gcm/GCMRegistrar.html" target="_top">Frames</a></li>
<li><a href="GCMRegistrar.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.google.android.gcm</div>
<h2 title="Class GCMRegistrar" class="title">Class GCMRegistrar</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.google.android.gcm.GCMRegistrar</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">GCMRegistrar</span>
extends java.lang.Object</pre>
<div class="block">Utilities for device registration.
 <p>
 <strong>Note:</strong> this class uses a private <code>SharedPreferences</code>
 object to keep track of the registration token.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#DEFAULT_ON_SERVER_LIFESPAN_MS">DEFAULT_ON_SERVER_LIFESPAN_MS</a></strong></code>
<div class="block">Default lifespan (7 days) of the <a href="../../../../com/google/android/gcm/GCMRegistrar.html#isRegisteredOnServer(android.content.Context)"><code>isRegisteredOnServer(Context)</code></a>
 flag until it is considered expired.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#checkDevice(android.content.Context)">checkDevice</a></strong>(android.content.Context&nbsp;context)</code>
<div class="block">Checks if the device has the proper dependencies installed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#checkManifest(android.content.Context)">checkManifest</a></strong>(android.content.Context&nbsp;context)</code>
<div class="block">Checks that the application manifest is properly configured.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#getRegisterOnServerLifespan(android.content.Context)">getRegisterOnServerLifespan</a></strong>(android.content.Context&nbsp;context)</code>
<div class="block">Gets how long (in milliseconds) the <a href="../../../../com/google/android/gcm/GCMRegistrar.html#isRegistered(android.content.Context)"><code>isRegistered(Context)</code></a>
 property is valid.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#getRegistrationId(android.content.Context)">getRegistrationId</a></strong>(android.content.Context&nbsp;context)</code>
<div class="block">Gets the current registration id for application on GCM service.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#isRegistered(android.content.Context)">isRegistered</a></strong>(android.content.Context&nbsp;context)</code>
<div class="block">Checks whether the application was successfully registered on GCM
 service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#isRegisteredOnServer(android.content.Context)">isRegisteredOnServer</a></strong>(android.content.Context&nbsp;context)</code>
<div class="block">Checks whether the device was successfully registered in the server side,
 as set by <a href="../../../../com/google/android/gcm/GCMRegistrar.html#setRegisteredOnServer(android.content.Context, boolean)"><code>setRegisteredOnServer(Context, boolean)</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#onDestroy(android.content.Context)">onDestroy</a></strong>(android.content.Context&nbsp;context)</code>
<div class="block">Clear internal resources.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#register(android.content.Context, java.lang.String...)">register</a></strong>(android.content.Context&nbsp;context,
        java.lang.String...&nbsp;senderIds)</code>
<div class="block">Initiate messaging registration for the current application.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#setRegisteredOnServer(android.content.Context, boolean)">setRegisteredOnServer</a></strong>(android.content.Context&nbsp;context,
                     boolean&nbsp;flag)</code>
<div class="block">Sets whether the device was successfully registered in the server side.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#setRegisterOnServerLifespan(android.content.Context, long)">setRegisterOnServerLifespan</a></strong>(android.content.Context&nbsp;context,
                           long&nbsp;lifespan)</code>
<div class="block">Sets how long (in milliseconds) the <a href="../../../../com/google/android/gcm/GCMRegistrar.html#isRegistered(android.content.Context)"><code>isRegistered(Context)</code></a>
 flag is valid.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/google/android/gcm/GCMRegistrar.html#unregister(android.content.Context)">unregister</a></strong>(android.content.Context&nbsp;context)</code>
<div class="block">Unregister the application.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_ON_SERVER_LIFESPAN_MS">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_ON_SERVER_LIFESPAN_MS</h4>
<pre>public static final&nbsp;long DEFAULT_ON_SERVER_LIFESPAN_MS</pre>
<div class="block">Default lifespan (7 days) of the <a href="../../../../com/google/android/gcm/GCMRegistrar.html#isRegisteredOnServer(android.content.Context)"><code>isRegisteredOnServer(Context)</code></a>
 flag until it is considered expired.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#com.google.android.gcm.GCMRegistrar.DEFAULT_ON_SERVER_LIFESPAN_MS">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="checkDevice(android.content.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDevice</h4>
<pre>public static&nbsp;void&nbsp;checkDevice(android.content.Context&nbsp;context)</pre>
<div class="block">Checks if the device has the proper dependencies installed.
 <p>
 This method should be called when the application starts to verify that
 the device supports GCM.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - application context.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.UnsupportedOperationException</code> - if the device does not support GCM.</dd></dl>
</li>
</ul>
<a name="checkManifest(android.content.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkManifest</h4>
<pre>public static&nbsp;void&nbsp;checkManifest(android.content.Context&nbsp;context)</pre>
<div class="block">Checks that the application manifest is properly configured.
 <p>
 A proper configuration means:
 <ol>
    <li>It creates a custom permission called
      <code>PACKAGE_NAME.permission.C2D_MESSAGE</code>.
    <li>It defines at least one <code>BroadcastReceiver</code> with category
      <code>PACKAGE_NAME</code>.
    <li>The <code>BroadcastReceiver</code>(s) uses the
       permission.
    <li>The <code>BroadcastReceiver</code>(s) handles the 2 GCM intents
      ( and
      ).
 </ol>
 ...where <code>PACKAGE_NAME</code> is the application package.
 <p>
 This method should be used during development time to verify that the
 manifest is properly set up, but it doesn't need to be called once the
 application is deployed to the users' devices.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - application context.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if any of the conditions above is not met.</dd></dl>
</li>
</ul>
<a name="register(android.content.Context, java.lang.String...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>register</h4>
<pre>public static&nbsp;void&nbsp;register(android.content.Context&nbsp;context,
            java.lang.String...&nbsp;senderIds)</pre>
<div class="block">Initiate messaging registration for the current application.
 <p>
 The result will be returned as an
 <a href="../../../../com/google/android/gcm/GCMConstants.html#INTENT_FROM_GCM_REGISTRATION_CALLBACK"><code>GCMConstants.INTENT_FROM_GCM_REGISTRATION_CALLBACK</code></a> intent with
 either a <a href="../../../../com/google/android/gcm/GCMConstants.html#EXTRA_REGISTRATION_ID"><code>GCMConstants.EXTRA_REGISTRATION_ID</code></a> or
 <a href="../../../../com/google/android/gcm/GCMConstants.html#EXTRA_ERROR"><code>GCMConstants.EXTRA_ERROR</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - application context.</dd><dd><code>senderIds</code> - Google Project ID of the accounts authorized to send
    messages to this application.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if device does not have all GCM
             dependencies installed.</dd></dl>
</li>
</ul>
<a name="unregister(android.content.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregister</h4>
<pre>public static&nbsp;void&nbsp;unregister(android.content.Context&nbsp;context)</pre>
<div class="block">Unregister the application.
 <p>
 The result will be returned as an
 <a href="../../../../com/google/android/gcm/GCMConstants.html#INTENT_FROM_GCM_REGISTRATION_CALLBACK"><code>GCMConstants.INTENT_FROM_GCM_REGISTRATION_CALLBACK</code></a> intent with an
 <a href="../../../../com/google/android/gcm/GCMConstants.html#EXTRA_UNREGISTERED"><code>GCMConstants.EXTRA_UNREGISTERED</code></a> extra.</div>
</li>
</ul>
<a name="onDestroy(android.content.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onDestroy</h4>
<pre>public static&nbsp;void&nbsp;onDestroy(android.content.Context&nbsp;context)</pre>
<div class="block">Clear internal resources.

 <p>
 This method should be called by the main activity's <code>onDestroy()</code>
 method.</div>
</li>
</ul>
<a name="getRegistrationId(android.content.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegistrationId</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getRegistrationId(android.content.Context&nbsp;context)</pre>
<div class="block">Gets the current registration id for application on GCM service.
 <p>
 If result is empty, the registration has failed.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>registration id, or empty string if the registration is not
         complete.</dd></dl>
</li>
</ul>
<a name="isRegistered(android.content.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRegistered</h4>
<pre>public static&nbsp;boolean&nbsp;isRegistered(android.content.Context&nbsp;context)</pre>
<div class="block">Checks whether the application was successfully registered on GCM
 service.</div>
</li>
</ul>
<a name="setRegisteredOnServer(android.content.Context, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRegisteredOnServer</h4>
<pre>public static&nbsp;void&nbsp;setRegisteredOnServer(android.content.Context&nbsp;context,
                         boolean&nbsp;flag)</pre>
<div class="block">Sets whether the device was successfully registered in the server side.</div>
</li>
</ul>
<a name="isRegisteredOnServer(android.content.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRegisteredOnServer</h4>
<pre>public static&nbsp;boolean&nbsp;isRegisteredOnServer(android.content.Context&nbsp;context)</pre>
<div class="block">Checks whether the device was successfully registered in the server side,
 as set by <a href="../../../../com/google/android/gcm/GCMRegistrar.html#setRegisteredOnServer(android.content.Context, boolean)"><code>setRegisteredOnServer(Context, boolean)</code></a>.

 <p>To avoid the scenario where the device sends the registration to the
 server but the server loses it, this flag has an expiration date, which
 is <a href="../../../../com/google/android/gcm/GCMRegistrar.html#DEFAULT_ON_SERVER_LIFESPAN_MS"><code>DEFAULT_ON_SERVER_LIFESPAN_MS</code></a> by default (but can be changed
 by <a href="../../../../com/google/android/gcm/GCMRegistrar.html#setRegisterOnServerLifespan(android.content.Context, long)"><code>setRegisterOnServerLifespan(Context, long)</code></a>).</div>
</li>
</ul>
<a name="getRegisterOnServerLifespan(android.content.Context)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegisterOnServerLifespan</h4>
<pre>public static&nbsp;long&nbsp;getRegisterOnServerLifespan(android.content.Context&nbsp;context)</pre>
<div class="block">Gets how long (in milliseconds) the <a href="../../../../com/google/android/gcm/GCMRegistrar.html#isRegistered(android.content.Context)"><code>isRegistered(Context)</code></a>
 property is valid.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>value set by <a href="../../../../com/google/android/gcm/GCMRegistrar.html#setRegisteredOnServer(android.content.Context, boolean)"><code>setRegisteredOnServer(Context, boolean)</code></a> or
      <a href="../../../../com/google/android/gcm/GCMRegistrar.html#DEFAULT_ON_SERVER_LIFESPAN_MS"><code>DEFAULT_ON_SERVER_LIFESPAN_MS</code></a> if not set.</dd></dl>
</li>
</ul>
<a name="setRegisterOnServerLifespan(android.content.Context, long)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setRegisterOnServerLifespan</h4>
<pre>public static&nbsp;void&nbsp;setRegisterOnServerLifespan(android.content.Context&nbsp;context,
                               long&nbsp;lifespan)</pre>
<div class="block">Sets how long (in milliseconds) the <a href="../../../../com/google/android/gcm/GCMRegistrar.html#isRegistered(android.content.Context)"><code>isRegistered(Context)</code></a>
 flag is valid.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/google/android/gcm/GCMConstants.html" title="class in com.google.android.gcm"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/google/android/gcm/GCMRegistrar.html" target="_top">Frames</a></li>
<li><a href="GCMRegistrar.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
